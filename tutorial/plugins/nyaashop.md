# NyaaShop 插件指南

NyaaShop（喵店）是为促进服务器经济流动的辅助性插件。

--------

## 喵店 :id=shop

有了喵店，经商变得简单自由。其结合了两大优势：

- **线下商店**——较低的服务费率，无额外费用；
- **交互式操作**——右键牌子与商店交互，交互文本中的操作项可以点击，跟随提示操作即可

!> **规则与限制**

- “开店须知”请见 [经济规则](nyaa/economic#shop-restrictions)。
- 支持的交易种类包括：
  + [出售](#shop-sell)
  + [收购](#shop-buy)
- 每个喵店可以交易一种物品。
- 喵店自身可以存储 56 个物品栏位的货物。
- 玩家可以创建总共至多 32 个喵店。（暂定）
- 每次出售向买方加收 2% 服务费。
- 每次收购向收购方加收 2% 服务费。

### 开始出售 :id=shop-sell

1. 于任意方块上放置任意玻璃，并把要出售的物品拿在副手。
2. 在下方方块上粘贴任意材质的告示牌，第一行写入 `[sell]`，第二行写入价格（数字，如 12.34），确认后即设立出售商店。
3. 右键点击告示牌，再使用 `/ns stock add [数量]` 即可从副手之外的身上补充指定数量的相应物品。

### 开始收购 :id=shop-buy

1. 于任意方块上放置任意玻璃，并把要收购的物品拿在副手。
2. 在下方方块上粘贴任意材质的告示牌，第一行写入 `[buy]`，第二行写入价格（数字，如 12.34），第三行写入收购上限（数字，如 12），确认后即设立收购商店。

### 购买商品与响应收购

- 右键点击出售商店牌子即可获得详细信息，再使用 `/ns buy [数量]` 购买指定数量的商品。在该商品售罄前，仍可继续使用命令购买，直至其显示剩余 0 个。
- 右键点击收购商店牌子即可获得详细信息，再使用 `/ns sell [数量]` 从副手之外的身上出售指定数量的物品。在该物品收购量抵达上限前，你仍可继续使用命令出售，直至其显示剩余 0 个。

### 店面管理 :id=shop-managing

目前仅可通过实体管理维护店面，通过命令 `/ns list` 可查询到所有喵店的地址，随后到场与牌子互动以管理店面。

在右键点击商店牌子后，可执行以下命令：

- `/ns set item mainhand` - 变更喵店物品为主手持有的物品，变更商店物品前需清空库存
- `/ns set price [价格]` - 变更喵店的设定价格
- `/ns stock add [数量]` - 从副手之外的身上补充指定数量的物品到喵店库存
- `/ns stock retrieve [数量]` - 从喵店库存中取出指定数量的物品
- `/ns set tradelimit [数量]` - 变更收购商店的收购上限，不适用于出售商店